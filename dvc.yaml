stages:
  train_val_split:
    cmd: python challenges/train_val_split.py
    deps:
    - challenges/train_val_split.py
    - data/raw/train
    params:
    - data_dir_train
    - seed
    - train_val_split
    outs:
    - data/processed/train_files.pkl
    - data/processed/val_files.pkl
  featurize:
    cmd: python challenges/onset-detection/extract_features.py
    deps:
    - challenges/onset-detection/extract_features.py
    - data/raw/test
    - data/processed/train_files.pkl
    - data/processed/val_files.pkl
    params:
    - data_dir_test
    - featurize
    outs:
    - data/interim/
